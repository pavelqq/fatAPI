{"error":{"driver":true,"name":"MongoError","index":0,"code":2},"level":"error","message":"uncaughtException: The field 'messages' must be an array but is of type object in document {_id: ObjectId('60ed837368d51f2324c43b3c')}\nMongoError: The field 'messages' must be an array but is of type object in document {_id: ObjectId('60ed837368d51f2324c43b3c')}\n    at Function.create (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\core\\error.js:57:12)\n    at toError (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\utils.js:130:22)\n    at C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\operations\\common_functions.js:384:39\n    at handler (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\core\\sdam\\topology.js:943:24)\n    at C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\cmap\\connection_pool.js:350:13\n    at handleOperationResult (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\core\\sdam\\server.js:558:5)\n    at MessageStream.messageHandler (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\cmap\\connection.js:281:5)\n    at MessageStream.emit (events.js:376:20)\n    at processIncomingData (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:144:12)\n    at MessageStream._write (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:42:5)\n    at writeOrBuffer (internal/streams/writable.js:358:12)\n    at MessageStream.Writable.write (internal/streams/writable.js:303:10)\n    at TLSSocket.ondata (internal/streams/readable.js:745:22)\n    at TLSSocket.emit (events.js:376:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)","stack":"MongoError: The field 'messages' must be an array but is of type object in document {_id: ObjectId('60ed837368d51f2324c43b3c')}\n    at Function.create (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\core\\error.js:57:12)\n    at toError (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\utils.js:130:22)\n    at C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\operations\\common_functions.js:384:39\n    at handler (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\core\\sdam\\topology.js:943:24)\n    at C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\cmap\\connection_pool.js:350:13\n    at handleOperationResult (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\core\\sdam\\server.js:558:5)\n    at MessageStream.messageHandler (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\cmap\\connection.js:281:5)\n    at MessageStream.emit (events.js:376:20)\n    at processIncomingData (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:144:12)\n    at MessageStream._write (C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:42:5)\n    at writeOrBuffer (internal/streams/writable.js:358:12)\n    at MessageStream.Writable.write (internal/streams/writable.js:303:10)\n    at TLSSocket.ondata (internal/streams/readable.js:745:22)\n    at TLSSocket.emit (events.js:376:20)\n    at addChunk (internal/streams/readable.js:309:12)\n    at readableAddChunk (internal/streams/readable.js:284:9)","exception":true,"date":"Tue Jul 13 2021 19:28:42 GMT+0500 (Екатеринбург, стандартное время)","process":{"pid":8920,"uid":null,"gid":null,"cwd":"C:\\Users\\sad12\\WebstormProjects\\apifat","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v14.17.0","argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\sad12\\WebstormProjects\\apifat\\index.js"],"memoryUsage":{"rss":54910976,"heapTotal":22396928,"heapUsed":20361960,"external":19877217,"arrayBuffers":18290972}},"os":{"loadavg":[0,0,0],"uptime":78239},"trace":[{"column":12,"file":"C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\core\\error.js","function":"Function.create","line":57,"method":"create","native":false},{"column":22,"file":"C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\utils.js","function":"toError","line":130,"method":null,"native":false},{"column":39,"file":"C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\operations\\common_functions.js","function":null,"line":384,"method":null,"native":false},{"column":24,"file":"C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\core\\sdam\\topology.js","function":"handler","line":943,"method":null,"native":false},{"column":13,"file":"C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\cmap\\connection_pool.js","function":null,"line":350,"method":null,"native":false},{"column":5,"file":"C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\core\\sdam\\server.js","function":"handleOperationResult","line":558,"method":null,"native":false},{"column":5,"file":"C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":"MessageStream.messageHandler","line":281,"method":"messageHandler","native":false},{"column":20,"file":"events.js","function":"MessageStream.emit","line":376,"method":"emit","native":false},{"column":12,"file":"C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"processIncomingData","line":144,"method":null,"native":false},{"column":5,"file":"C:\\Users\\sad12\\WebstormProjects\\apifat\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"MessageStream._write","line":42,"method":"_write","native":false},{"column":12,"file":"internal/streams/writable.js","function":"writeOrBuffer","line":358,"method":null,"native":false},{"column":10,"file":"internal/streams/writable.js","function":"MessageStream.Writable.write","line":303,"method":"write","native":false},{"column":22,"file":"internal/streams/readable.js","function":"TLSSocket.ondata","line":745,"method":"ondata","native":false},{"column":20,"file":"events.js","function":"TLSSocket.emit","line":376,"method":"emit","native":false},{"column":12,"file":"internal/streams/readable.js","function":"addChunk","line":309,"method":null,"native":false},{"column":9,"file":"internal/streams/readable.js","function":"readableAddChunk","line":284,"method":null,"native":false}]}
